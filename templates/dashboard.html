<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AyushScan - Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ===== CSS VARIABLES ===== */
    :root {
      --primary: #020000;
      --primary-light: #1a1a1a;
      --accent: #200404;
      --text: #000000;
      --text-light: #666666;
      --text-muted: #999999;
      --white: #ffffff;
      --light-gray: #f8f9fa;
      --border: #e5e7eb;
      --success: #10b981;
      --error: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
      --sidebar-bg: #1f2937;
      --sidebar-hover: #374151;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
    }

    /* ===== RESET & BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--light-gray);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ===== DASHBOARD LAYOUT ===== */
    .dashboard {
      display: flex;
      min-height: 100vh;
    }

    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 280px;
      background: var(--sidebar-bg);
      color: var(--white);
      padding: 2rem 0;
      box-shadow: var(--shadow-lg);
      position: fixed;
      height: 100vh;
      left: 0;
      top: 0;
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .sidebar.mobile-hidden {
      transform: translateX(-100%);
    }

    .sidebar-header {
      padding: 0 2rem;
      margin-bottom: 2rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 2rem;
    }

    .sidebar-logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--white);
      text-align: center;
      margin-bottom: 0.5rem;
    }

    .sidebar-subtitle {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
    }

    .sidebar-nav {
      list-style: none;
      padding: 0;
    }

    .nav-item {
      margin-bottom: 0.5rem;
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: 1rem 2rem;
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
      border-left: 3px solid transparent;
    }

    .nav-link:hover {
      background: var(--sidebar-hover);
      color: var(--white);
      border-left-color: var(--info);
    }

    .nav-link.active {
      background: var(--sidebar-hover);
      color: var(--white);
      border-left-color: var(--info);
    }

    .nav-icon {
      font-size: 1.2rem;
      margin-right: 1rem;
      width: 20px;
      text-align: center;
    }

    .nav-text {
      font-size: 0.95rem;
      font-weight: 500;
    }

    /* ===== MAIN CONTENT ===== */
    .main-content {
      flex: 1;
      margin-left: 280px;
      padding: 2rem;
      transition: margin-left 0.3s ease;
    }

    .main-content.expanded {
      margin-left: 0;
    }

    /* ===== HEADER ===== */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--white);
      padding: 1.5rem 2rem;
      border-radius: 12px;
      box-shadow: var(--shadow);
      margin-bottom: 2rem;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text);
    }

    .page-title {
      font-size: 1.75rem;
      font-weight: 600;
      color: var(--text);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: background 0.3s ease;
    }

    .user-profile:hover {
      background: var(--light-gray);
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--info);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-weight: 600;
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text);
    }

    .user-role {
      font-size: 0.75rem;
      color: var(--text-light);
    }

    /* ===== CONTENT SECTIONS ===== */
    .content-section {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .content-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ===== DASHBOARD CARDS ===== */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .dashboard-card {
      background: var(--white);
      border-radius: 12px;
      padding: 2rem;
      box-shadow: var(--shadow);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .dashboard-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .card-icon {
      font-size: 2rem;
      margin-right: 1rem;
    }

    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text);
    }

    .card-description {
      color: var(--text-light);
      margin-bottom: 1rem;
    }

    .card-stats {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--success);
    }

    /* ===== SCANNER SECTION ===== */
    .scanner-container {
      background: var(--white);
      border-radius: 12px;
      padding: 2rem;
      box-shadow: var(--shadow);
      max-width: 600px;
      margin: 0 auto;
    }

    .upload-area {
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 3rem 2rem;
      text-align: center;
      background: var(--light-gray);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .upload-area:hover {
      border-color: var(--info);
      background: rgba(59, 130, 246, 0.05);
    }

    .upload-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: var(--text-muted);
    }

    .upload-text {
      font-size: 1.1rem;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .upload-subtext {
      font-size: 0.9rem;
      color: var(--text-light);
    }

    /* ===== PROFILE SECTION ===== */
    .profile-container {
      background: var(--white);
      border-radius: 12px;
      padding: 2rem;
      box-shadow: var(--shadow);
      max-width: 800px;
      margin: 0 auto;
    }

    .profile-header {
      display: flex;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: var(--info);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-size: 2rem;
      font-weight: 600;
      margin-right: 2rem;
    }

    .profile-info h2 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .profile-info p {
      color: var(--text-light);
      margin-bottom: 0.25rem;
    }

    .profile-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-label {
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .form-input {
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--info);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* ===== CHATBOT SECTION ===== */
    .chatbot-container {
      background: var(--white);
      border-radius: 12px;
      box-shadow: var(--shadow);
      height: 600px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chatbot-header {
      background: var(--sidebar-bg);
      color: var(--white);
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .chatbot-messages {
      flex: 1;
      padding: 1.5rem;
      overflow-y: auto;
      background: var(--light-gray);
    }

    .message {
      margin-bottom: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .message.user {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
      flex-shrink: 0;
    }

    .message.bot .message-avatar {
      background: var(--info);
      color: var(--white);
    }

    .message.user .message-avatar {
      background: var(--success);
      color: var(--white);
    }

    .message-content {
      background: var(--white);
      padding: 0.75rem 1rem;
      border-radius: 12px;
      max-width: 70%;
      box-shadow: var(--shadow);
    }

    .message.user .message-content {
      background: var(--info);
      color: var(--white);
    }

    .chatbot-input {
      padding: 1.5rem;
      border-top: 1px solid var(--border);
      background: var(--white);
    }

    .input-group {
      display: flex;
      gap: 1rem;
    }

    .chat-input {
      flex: 1;
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      outline: none;
    }

    .chat-input:focus {
      border-color: var(--info);
    }

    .send-button {
      padding: 0.75rem 1.5rem;
      background: var(--info);
      color: var(--white);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.3s ease;
    }

    .send-button:hover {
      background: #2563eb;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
      }

      .sidebar.mobile-visible {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
        padding: 1rem;
      }

      .menu-toggle {
        display: block;
      }

      .header {
        padding: 1rem;
      }

      .page-title {
        font-size: 1.5rem;
      }

      .user-info {
        display: none;
      }

      .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .profile-avatar {
        margin-right: 0;
        margin-bottom: 1rem;
      }

      .profile-form {
        grid-template-columns: 1fr;
      }
    }

    /* ===== OVERLAY FOR MOBILE ===== */
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
    }

    .sidebar-overlay.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">AyushScan</div>
        <div class="sidebar-subtitle">Medical Bill Scanner</div>
      </div>
      <nav>
        <ul class="sidebar-nav">
          <li class="nav-item">
            <a class="nav-link active" data-section="dashboard">
              <span class="nav-icon">🏠</span>
              <span class="nav-text">Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-section="scanner">
              <span class="nav-icon">📱</span>
              <span class="nav-text">Scanner</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-section="profile">
              <span class="nav-icon">👤</span>
              <span class="nav-text">Profile</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-section="chatbot">
              <span class="nav-icon">🤖</span>
              <span class="nav-text">AI Assistant</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-section="history">
              <span class="nav-icon">📋</span>
              <span class="nav-text">Scan History</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-section="settings">
              <span class="nav-icon">⚙️</span>
              <span class="nav-text">Settings</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">☰</button>
          <h1 class="page-title" id="pageTitle">Dashboard</h1>
        </div>
        <div class="header-right">
          <div class="user-profile" onclick="showSection('profile')">
            <div class="user-avatar">A</div>
            <div class="user-info">
              <div class="user-name">Ayush Kumar</div>
              <div class="user-role">Premium User</div>
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Section -->
      <section class="content-section active" id="dashboard">
        <div class="dashboard-grid">
          <div class="dashboard-card" onclick="showSection('scanner')">
            <div class="card-header">
              <div class="card-icon">📱</div>
              <div class="card-title">Scanner</div>
            </div>
            <div class="card-description">
              Upload and scan your medical bills with AI-powered OCR technology
            </div>
            <div class="card-stats">
              <div class="stat-label">Total Scans</div>
              <div class="stat-value">24</div>
            </div>
          </div>

          <div class="dashboard-card" onclick="showSection('chatbot')">
            <div class="card-header">
              <div class="card-icon">🤖</div>
              <div class="card-title">AI Assistant</div>
            </div>
            <div class="card-description">
              Get instant help and answers about your medical bills and healthcare
            </div>
            <div class="card-stats">
              <div class="stat-label">Conversations</div>
              <div class="stat-value">12</div>
            </div>
          </div>

          <div class="dashboard-card" onclick="showSection('history')">
            <div class="card-header">
              <div class="card-icon">📋</div>
              <div class="card-title">Scan History</div>
            </div>
            <div class="card-description">
              View and manage all your previously scanned medical documents
            </div>
            <div class="card-stats">
              <div class="stat-label">This Month</div>
              <div class="stat-value">8</div>
            </div>
          </div>

          <div class="dashboard-card" onclick="showSection('profile')">
            <div class="card-header">
              <div class="card-icon">👤</div>
              <div class="card-title">Profile</div>
            </div>
            <div class="card-description">
              Manage your account settings and personal information
            </div>
            <div class="card-stats">
              <div class="stat-label">Account Status</div>
              <div class="stat-value">Active</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Scanner Section -->
      <section class="content-section" id="scanner">
  <div class="scanner-container">
    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text);">Medical Bill Scanner</h2>

    <form id="scannerForm" action="/scan" method="POST" enctype="multipart/form-data">
      <label for="fileInput" id="dropArea" class="upload-area">
        <div id="uploadIcon" class="upload-icon">📄</div>
        <div class="upload-text">Drop your medical bill here</div>
        <div class="upload-subtext">or click to browse files (JPG, PNG, PDF)</div>
        <input type="file" id="fileInput" name="file" style="display: none;" accept="image/*,.pdf">
      </label>

      <div id="filePreview" style="display: none; margin-top: 1rem; text-align: center;">
        <p style="color: var(--text-light);">Selected File:</p>
        <p id="fileName" style="font-weight: 600;"></p>
      </div>

      <div style="text-align: center; margin-top: 2rem;">
        <button type="submit" id="scanBtn" style="padding: 1rem 2rem; background: var(--info); color: var(--white); border: none; border-radius: 8px; font-size: 1rem; cursor: pointer;">
          Start Scan
        </button>
      </div>

      <div id="loadingSpinner" style="display: none; text-align: center; margin-top: 2rem;">
        <div class="upload-icon" style="font-size: 2rem;">⏳</div>
        <p>Scanning in progress...</p>
      </div>
    </form>
  </div>
</section>


      <!-- Profile Section -->
      <section class="content-section" id="profile">
        <div class="profile-container">
          <div class="profile-header">
            <div class="profile-avatar">A</div>
            <div class="profile-info">
              <h2>Ayush Kumar</h2>
              <p>ayush.kumar@example.com</p>
              <p>Premium Member since Jan 2024</p>
            </div>
          </div>
          <form class="profile-form">
            <div class="form-group">
              <label class="form-label">First Name</label>
              <input type="text" class="form-input" value="Ayush" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-input" value="Kumar" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" value="ayush.kumar@example.com" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Phone</label>
              <input type="tel" class="form-input" value="+91 9876543210" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Date of Birth</label>
              <input type="date" class="form-input" value="1995-06-15" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Location</label>
              <input type="text" class="form-input" value="New Delhi, India" readonly>
            </div>
          </form>
        </div>
      </section>

      <!-- Chatbot Section -->
      <section class="content-section" id="chatbot">
        <div class="chatbot-container">
          <div class="chatbot-header">
            <span class="nav-icon">🤖</span>
            <h3>AI Medical Assistant</h3>
          </div>
          <div class="chatbot-messages" id="chatMessages">
            <div class="message bot">
              <div class="message-avatar">AI</div>
              <div class="message-content">
                Hello! I'm your AI medical assistant. I can help you understand your medical bills, explain medical terms, and answer healthcare-related questions. How can I assist you today?
              </div>
            </div>
          </div>
          <div class="chatbot-input">
            <div class="input-group">
              <input type="text" class="chat-input" id="chatInput" placeholder="Ask me anything about your medical bills...">
              <button class="send-button" onclick="sendMessage()">Send</button>
            </div>
          </div>
        </div>
      </section>

      <!-- History Section -->
      <section class="content-section" id="history">
        <div style="background: var(--white); border-radius: 12px; padding: 2rem; box-shadow: var(--shadow);">
          <h2 style="margin-bottom: 2rem; color: var(--text);">Scan History</h2>
          <div style="text-align: center; color: var(--text-light); padding: 3rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">📋</div>
            <h3>No scans yet</h3>
            <p>Your scan history will appear here once you start scanning documents.</p>
            <button onclick="showSection('scanner')" style="margin-top: 1rem; padding: 0.75rem 1.5rem; background: var(--info); color: var(--white); border: none; border-radius: 8px; cursor: pointer;">
              Start Scanning
            </button>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section class="content-section" id="settings">
        <div style="background: var(--white); border-radius: 12px; padding: 2rem; box-shadow: var(--shadow);">
          <h2 style="margin-bottom: 2rem; color: var(--text);">Settings</h2>
          <div style="text-align: center; color: var(--text-light); padding: 3rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">⚙️</div>
            <h3>Settings Panel</h3>
            <p>Configure your preferences and account settings here.</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ===== DOM ELEMENTS =====
    const sidebar = document.getElementById('sidebar');
    const sidebarOverlay = document.getElementById('sidebarOverlay');
    const mainContent = document.getElementById('mainContent');
    const menuToggle = document.getElementById('menuToggle');
    const pageTitle = document.getElementById('pageTitle');
    const navLinks = document.querySelectorAll('.nav-link');
    const contentSections = document.querySelectorAll('.content-section');
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');

    // ===== NAVIGATION FUNCTIONS =====
    function showSection(sectionId) {
      // Hide all sections
      contentSections.forEach(section => {
        section.classList.remove('active');
      });

      // Show selected section
      const selectedSection = document.getElementById(sectionId);
      if (selectedSection) {
        selectedSection.classList.add('active');
      }

      // Update page title
      const sectionTitles = {
        'dashboard': 'Dashboard',
        'scanner': 'Scanner',
        'profile': 'Profile',
        'chatbot': 'AI Assistant',
        'history': 'Scan History',
        'settings': 'Settings'
      };
      pageTitle.textContent = sectionTitles[sectionId] || 'Dashboard';

      // Update active nav link
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('data-section') === sectionId) {
          link.classList.add('active');
        }
      });

      // Close sidebar on mobile
      if (window.innerWidth <= 768) {
        toggleSidebar();
      }
    }

    function toggleSidebar() {
      sidebar.classList.toggle('mobile-visible');
      sidebarOverlay.classList.toggle('active');
    }

    // ===== EVENT LISTENERS =====
    menuToggle.addEventListener('click', toggleSidebar);
    sidebarOverlay.addEventListener('click', toggleSidebar);

    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const sectionId = link.getAttribute('data-section');
        showSection(sectionId);
      });
    });

    // ===== CHATBOT FUNCTIONALITY =====
    function sendMessage() {
      const message = chatInput.value.trim();
      if (!message) return;

      // Add user message
      addMessage(message, 'user');

      // Clear input
      chatInput.value = '';

      // Simulate bot response
      setTimeout(() => {
        const responses = [
          "I understand you're asking about your medical bill. Can you provide more specific details?",
          "Medical bills can be complex. Would you like me to explain any specific charges?",
          "I'm here to help you understand your healthcare costs. What specific information do you need?",
          "That's a great question about medical billing. Let me help you with that information.",
          "I can help clarify medical terms and procedures. What would you like to know more about?"
        ];
        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        addMessage(randomResponse, 'bot');
      }, 1000);
    }

    function addMessage(text, sender) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${sender}`;
      
      const avatarDiv = document.createElement('div');
      avatarDiv.className = 'message-avatar';
    avatarDiv.textContent = sender === 'user' ? 'You' : 'AI';

    const contentDiv = document.createElement('div');
    contentDiv.className = 'message-content';
    contentDiv.textContent = text;

    messageDiv.appendChild(avatarDiv);
    messageDiv.appendChild(contentDiv);

    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }
  // Scanner: Drag & Drop + Preview + Loading Spinner
const dropArea = document.getElementById("dropArea");
const fileInput = document.getElementById("fileInput");
const filePreview = document.getElementById("filePreview");
const fileName = document.getElementById("fileName");
const scanBtn = document.getElementById("scanBtn");
const loadingSpinner = document.getElementById("loadingSpinner");
const scannerForm = document.getElementById("scannerForm");

// Show file preview
fileInput.addEventListener("change", function () {
  if (this.files.length > 0) {
    filePreview.style.display = "block";
    fileName.textContent = this.files[0].name;
  } else {
    filePreview.style.display = "none";
  }
});

// Drag & drop support
dropArea.addEventListener("dragover", (e) => {
  e.preventDefault();
  dropArea.style.borderColor = "var(--info)";
  dropArea.style.backgroundColor = "rgba(59,130,246,0.05)";
});

dropArea.addEventListener("dragleave", () => {
  dropArea.style.borderColor = "var(--border)";
  dropArea.style.backgroundColor = "var(--light-gray)";
});

dropArea.addEventListener("drop", (e) => {
  e.preventDefault();
  const files = e.dataTransfer.files;
  if (files.length > 0) {
    fileInput.files = files;
    fileInput.dispatchEvent(new Event("change"));
  }
});

// Show loading spinner on submit
scannerForm.addEventListener("submit", () => {
  scanBtn.disabled = true;
  loadingSpinner.style.display = "block";
});

</script>